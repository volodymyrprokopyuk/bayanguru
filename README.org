* Sheet music library for bayan

** Dependencies

- [[https://lilypond.org/][LilyPond]] sheet music engraving system
- [[https://tailwindcss.com/][TailwindCSS]] CSS framework
- [[https://pagefind.app/][PageFind]] static full-text search
- [[https://html-validate.org/][HTML validate]] offline HTML validation
- [[https://go.dev/][Go]] programming language
- [[https://fishshell.com/][Fish]] command line shell

Install dependencies

#+BEGIN_SRC fish
# Build bayanguru command with Go
yay -S go golangci-lint
# Automate bayanguru commands with Fish
yay -S fish
# Engrave pieces and books with LilyPond
yay -S ghostscript gsfonts fontforge t1utils texlive-{metapost,langcyrillic}
# Upload scores to Cloudflare R2 object store with rclone
yay -S rclone
# Style bayanguru website with TailwindCSS
bun install tailwindcss @tailwindcss/cli
# Index bayanguru website for searching with pagefind
yay -S pagefind
# Validate bayanguru website HTML locally with html-validate
bun install html-validate
# Serve bayanguru website locally with Caddy
yay -S caddy
# Deploy bayanguru website to Cloudflare Pages with wrangler
bun install wrangler
#+END_SRC

** Usage

Install bayanguru

#+BEGIN_SRC fish
go install github.com/volodymyrprokopyuk/bayanguru@latest
#+END_SRC

Author, engrave, and publish pieces

#+BEGIN_SRC fish
# Generate random piece ID
tr -dc a-z0-9 </dev/urandom | head -c 4
# Initialize piece source code
./bin/bayanguru engrave pieceID -i
# Initialize piece lyrics source code
./bin/bayanguru engrave pieceID -i --lyr
# Lint piece source code, engrave piece, and optimize piece PDF
./bin/bayanguru engrave pieceID -lo
# Publish piece PDF to Cloudflare
./bin/bayanguru publish pieceID -u
#+END_SRC

** Development

Bayanguru development workflow

#+BEGIN_SRC fish
# Lint Go code
./bayanguru.fish lint
# Build Go code
./bayanguru.fish build
# Validate website HTML
./bayanguru.fish validate
# Publish website locally
./bayanguru.fish publish
# Server website locally
./bayanguru.fish serve
# Deploy website to Cloudflare
./bayanguru.fish deploy
# Install bayanguru Fish completions
./bayanguru.fish completions
#+END_SRC

** License

[[https://www.gnu.org/licenses/gpl-3.0.html][GPLv3 GNU General Public License v3.0]]
